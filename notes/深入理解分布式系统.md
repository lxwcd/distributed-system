深入理解分布式系统 唐伟志 学习笔记

# 第一章 认识分布式系统
分布式系统是一个其组件分布在不同的、联网的计算机上，组件之间之间通过传递消息进行通信和协调，共同完成一个任务的系统

## 分布式系统的特点
- 多进程
- 不共享操作系统
- 不共享时钟
很难通过时间定义两个事件的顺序，即使用一个时间服务器也不能保证十分精准

## 分布式系统的挑战
在分布式系统的设计和开发过程中，存在一些常见的计算谬误，这些谬误可能导致设计缺陷、性能问题或系统故障。

1. 网络是可靠的（The Network is Reliable）：这个谬误认为网络通信是稳定的、可靠的，并且延迟为零。实际上，网络通信可能会受到延迟、丢包、分区等问题的影响，而且网络连接也可能随时中断。

2. 延迟为零（Latency is Zero）：这个谬误认为在分布式系统中的通信和操作可以瞬时完成，即延迟为零。实际上，网络通信和远程操作都会引入延迟，而且延迟是无法避免的。

3. 带宽是无限的（Bandwidth is Infinite）：这个谬误认为可以无限制地传输大量的数据。实际上，网络带宽是有限的资源，特别是在广域网环境下。因此，分布式系统设计应该考虑到带宽限制，并采取合适的策略来减少带宽消耗。

4. 网络是安全的（The Network is Secure）：这个谬误认为网络是安全的，通信不会被窃听或篡改。实际上，网络通信可能受到各种安全威胁，如中间人攻击、数据泄露等。分布式系统应该考虑到安全性，并采取适当的加密和身份验证措施。

5. 拓扑不会改变（Topology Doesn't Change）：这个谬误认为分布式系统的拓扑结构是固定不变的。实际上，分布式系统中的节点可能随时加入或离开，网络拓扑也可能动态变化。系统设计应该考虑到拓扑的动态性，并具备适应变化的能力。

6. 只有一个管理员（There is One Administrator）：这个谬误认为只有一个管理员可以控制和管理整个分布式系统。实际上，分布式系统可能由多个组织或个人管理，涉及多个管理者的协调和决策。

7. 传输成本为零（Transport Cost is Zero）：这个谬误认为在分布式系统中的数据传输是免费的。实际上，数据传输需要消耗网络带宽和计算资源，并且可能会产生成本。系统设计应该考虑到传输成本，并进行合理的资源管理和优化。

8. 网络是同构的（The Network is Homogeneous）：这个谬误认为网络中的所有组件和连接都是相同的，没有任何差异。然而，在实际情况下，网络中的组件和连接可能具有不同的特性和性能。实际上，网络中的组件（如路由器、交换机、链路）可能具有不同的带宽、延迟、可靠性等特性。不同地理位置之间的网络连接也可能存在差异，比如跨越大陆的连接与本地局域网之间的连接会有不同的网络特性。

# 第二章 分布式系统模型

## 两将军问题
> [Two Generals' Problem](https://en.wikipedia.org/wiki/Two_Generals'_Problem)

"两将军问题"（Two Generals' Problem）是一个经典的计算机科学问题，用于探讨在分布式系统中的通信和协调的困难性。

TCP 三次握手为该问题的一种工程解

## 拜占庭将军问题